# Database Schema р╕кр╕│р╕лр╕гр╕▒р╕Ър╕гр╕░р╕Ър╕Ъ Internet Programming

## р╕ар╕▓р╕Юр╕гр╕зр╕бр╕Вр╕нр╕Зр╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕е

р╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Щр╕╡р╣Йр╕нр╕нр╕Бр╣Бр╕Ър╕Ър╕бр╕▓р╕кр╕│р╕лр╕гр╕▒р╕Ър╕гр╕░р╕Ър╕Ъ E-commerce р╕Юр╕╖р╣Йр╕Щр╕Рр╕▓р╕Щ р╕Ыр╕гр╕░р╕Бр╕нр╕Ър╕Фр╣Йр╕зр╕вр╕Хр╕▓р╕гр╕▓р╕Зр╕лр╕ер╕▒р╕Б 8 р╕Хр╕▓р╕гр╕▓р╕З:

### ЁЯЧВя╕П р╕Хр╕▓р╕гр╕▓р╕Зр╕лр╕ер╕▒р╕Б

1. **users** - р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ
2. **categories** - р╕лр╕бр╕зр╕Фр╕лр╕бр╕╣р╣Ир╕кр╕┤р╕Щр╕Др╣Йр╕▓  
3. **products** - р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕кр╕┤р╕Щр╕Др╣Йр╕▓
4. **orders** - р╕Др╕│р╕кр╕▒р╣Ир╕Зр╕Лр╕╖р╣Йр╕н
5. **order_items** - р╕гр╕▓р╕вр╕Бр╕▓р╕гр╕кр╕┤р╕Щр╕Др╣Йр╕▓р╣Гр╕Щр╕Др╕│р╕кр╕▒р╣Ир╕Зр╕Лр╕╖р╣Йр╕н
6. **reviews** - р╕гр╕╡р╕зр╕┤р╕зр╕кр╕┤р╕Щр╕Др╣Йр╕▓
7. **cart** - р╕Хр╕░р╕Бр╕гр╣Йр╕▓р╕кр╕┤р╕Щр╕Др╣Йр╕▓
8. **wishlists** - р╕гр╕▓р╕вр╕Бр╕▓р╕гр╣Вр╕Ыр╕гр╕Ф

## ЁЯУК Schema Diagram

```
users (1) ----< orders (1) ----< order_items (n) >---- products (1)
  |                                                         |
  |----< reviews >--------------------------------------------|
  |                                                         |
  |----< cart >---------------------------------------------|
  |                                                         |
  |----< wishlists >----------------------------------------|
                                                            |
                                              categories ----< products
```

## ЁЯЪА р╕зр╕┤р╕Шр╕╡р╕Бр╕▓р╕гр╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕З

### р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Чр╕╡р╣И 1: р╕кр╕гр╣Йр╕▓р╕Зр╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕е
```sql
CREATE DATABASE internet_programming_db;
USE internet_programming_db;
```

### р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Чр╕╡р╣И 2: р╕гр╕▒р╕Щр╕кр╕Др╕гр╕┤р╕Ыр╕Хр╣Мр╕кр╕гр╣Йр╕▓р╕Зр╕Хр╕▓р╕гр╕▓р╕З
р╣Гр╕Кр╣Йр╣Др╕Яр╕ер╣М `complete_database_setup.sql` р╕Чр╕╡р╣Ир╕гр╕зр╕бр╕Чр╕╕р╕Бр╕нр╕вр╣Ир╕▓р╕Зр╣Др╕зр╣Йр╣Бр╕ер╣Йр╕з:

```bash
mysql -u username -p database_name < complete_database_setup.sql
```

р╕лр╕гр╕╖р╕нр╕гр╕▒р╕Щр╕Чр╕╡р╕ер╕░р╣Др╕Яр╕ер╣М:
1. `create_tables.sql` - р╕кр╕гр╣Йр╕▓р╕Зр╕Хр╕▓р╕гр╕▓р╕Зр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф
2. `insert_mock_data.sql` - р╣Ар╕Юр╕┤р╣Ир╕бр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ир╕│р╕ер╕нр╕З

## ЁЯУЛ р╕гр╕▓р╕вр╕ер╕░р╣Ар╕нр╕╡р╕вр╕Фр╕Хр╕▓р╕гр╕▓р╕З

### 1. users (р╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ)
| Field | Type | Description |
|-------|------|-------------|
| id | INT AUTO_INCREMENT | р╕гр╕лр╕▒р╕кр╕Ьр╕╣р╣Йр╣Гр╕Кр╣Й (Primary Key) |
| username | VARCHAR(50) | р╕Кр╕╖р╣Ир╕нр╕Ьр╕╣р╣Йр╣Гр╕Кр╣Й (р╣Др╕бр╣Ир╕Лр╣Йр╕│) |
| email | VARCHAR(100) | р╕нр╕╡р╣Ар╕бр╕е (р╣Др╕бр╣Ир╕Лр╣Йр╕│) |
| password | VARCHAR(255) | р╕гр╕лр╕▒р╕кр╕Ьр╣Ир╕▓р╕Щр╕Чр╕╡р╣Ир╣Ар╕Вр╣Йр╕▓р╕гр╕лр╕▒р╕кр╣Бр╕ер╣Йр╕з |
| firstName | VARCHAR(50) | р╕Кр╕╖р╣Ир╕нр╕Ир╕гр╕┤р╕З |
| lastName | VARCHAR(50) | р╕Щр╕▓р╕бр╕кр╕Бр╕╕р╕е |
| avatar | VARCHAR(255) | р╕гр╕╣р╕Ыр╣Вр╕Ыр╕гр╣Др╕Яр╕ер╣М |
| role | ENUM | р╕Ър╕Чр╕Ър╕▓р╕Ч ('user', 'admin') |
| isActive | BOOLEAN | р╕кр╕Цр╕▓р╕Щр╕░р╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ |

### 2. products (р╕кр╕┤р╕Щр╕Др╣Йр╕▓)
| Field | Type | Description |
|-------|------|-------------|
| id | INT AUTO_INCREMENT | р╕гр╕лр╕▒р╕кр╕кр╕┤р╕Щр╕Др╣Йр╕▓ (Primary Key) |
| name | VARCHAR(100) | р╕Кр╕╖р╣Ир╕нр╕кр╕┤р╕Щр╕Др╣Йр╕▓ |
| description | TEXT | р╕гр╕▓р╕вр╕ер╕░р╣Ар╕нр╕╡р╕вр╕Фр╕кр╕┤р╕Щр╕Др╣Йр╕▓ |
| price | DECIMAL(10,2) | р╕гр╕▓р╕Др╕▓р╕кр╕┤р╕Щр╕Др╣Йр╕▓ |
| category | VARCHAR(50) | р╕лр╕бр╕зр╕Фр╕лр╕бр╕╣р╣И |
| brand | VARCHAR(50) | р╕вр╕╡р╣Ир╕лр╣Йр╕н |
| image | VARCHAR(255) | р╕гр╕╣р╕Ыр╕ар╕▓р╕Юр╕кр╕┤р╕Щр╕Др╣Йр╕▓ |
| stock | INT | р╕Ир╕│р╕Щр╕зр╕Щр╕Др╕Зр╣Ар╕лр╕ер╕╖р╕н |
| rating | DECIMAL(2,1) | р╕Др╕░р╣Бр╕Щр╕Щр╕гр╕╡р╕зр╕┤р╕з |
| featured | BOOLEAN | р╕кр╕┤р╕Щр╕Др╣Йр╕▓р╣Бр╕Щр╕░р╕Щр╕│ |

### 3. orders (р╕Др╕│р╕кр╕▒р╣Ир╕Зр╕Лр╕╖р╣Йр╕н)
| Field | Type | Description |
|-------|------|-------------|
| id | INT AUTO_INCREMENT | р╕гр╕лр╕▒р╕кр╕Др╕│р╕кр╕▒р╣Ир╕Зр╕Лр╕╖р╣Йр╕н |
| user_id | INT | р╕гр╕лр╕▒р╕кр╕Ьр╕╣р╣Йр╣Гр╕Кр╣Й (Foreign Key) |
| order_number | VARCHAR(20) | р╣Ар╕ер╕Вр╕Чр╕╡р╣Ир╕Др╕│р╕кр╕▒р╣Ир╕Зр╕Лр╕╖р╣Йр╕н |
| total_amount | DECIMAL(10,2) | р╕вр╕нр╕Фр╕гр╕зр╕б |
| status | ENUM | р╕кр╕Цр╕▓р╕Щр╕░р╕Др╕│р╕кр╕▒р╣Ир╕Зр╕Лр╕╖р╣Йр╕н |
| payment_method | ENUM | р╕зр╕┤р╕Шр╕╡р╕Бр╕▓р╕гр╕Кр╕│р╕гр╕░р╣Ар╕Зр╕┤р╕Щ |
| payment_status | ENUM | р╕кр╕Цр╕▓р╕Щр╕░р╕Бр╕▓р╕гр╕Кр╕│р╕гр╕░р╣Ар╕Зр╕┤р╕Щ |

## ЁЯТ╛ р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ир╕│р╕ер╕нр╕З (Mock Data)

### Users (5 records)
- admin (role: admin)
- john_doe, jane_smith, mike_wilson, sarah_brown (role: user)
- р╕гр╕лр╕▒р╕кр╕Ьр╣Ир╕▓р╕Щр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф: `password123`

### Categories (5 records)
- Electronics (р╕нр╕┤р╣Ар╕ер╣Зр╕Бр╕Чр╕гр╕нр╕Щр╕┤р╕Бр╕кр╣М)
- Fashion (р╣Бр╕Яр╕Кр╕▒р╣Ир╕Щ)
- Sports (р╕Бр╕╡р╕мр╕▓)
- Books (р╕лр╕Щр╕▒р╕Зр╕кр╕╖р╕н)
- Home & Garden (р╕Ър╣Йр╕▓р╕Щр╣Бр╕ер╕░р╕кр╕зр╕Щ)

### Products (16 records)
- iPhone 15 Pro, Samsung Galaxy S24, MacBook Air M3
- р╣Ар╕кр╕╖р╣Йр╕нр╕Ьр╣Йр╕▓, р╕гр╕нр╕Зр╣Ар╕Чр╣Йр╕▓, р╕Бр╕гр╕░р╣Ар╕Ыр╣Лр╕▓
- р╕нр╕╕р╕Ыр╕Бр╕гр╕Ур╣Мр╕Бр╕╡р╕мр╕▓, р╕лр╕Щр╕▒р╕Зр╕кр╕╖р╕н, р╕Вр╕нр╕Зр╣Гр╕Кр╣Йр╣Гр╕Щр╕Ър╣Йр╕▓р╕Щ

### Orders (4 records)
- р╕Др╕│р╕кр╕▒р╣Ир╕Зр╕Лр╕╖р╣Йр╕нр╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕Зр╕Юр╕гр╣Йр╕нр╕бр╕кр╕Цр╕▓р╕Щр╕░р╕Хр╣Ир╕▓р╕Зр╣Ж

## ЁЯФН Query р╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕Зр╕Чр╕╡р╣Ир╕бр╕╡р╕Ыр╕гр╕░р╣Вр╕вр╕Кр╕Щр╣М

### р╣Бр╕кр╕Фр╕Зр╕кр╕┤р╕Щр╕Др╣Йр╕▓р╕Юр╕гр╣Йр╕нр╕бр╕Ир╕│р╕Щр╕зр╕Щр╕гр╕╡р╕зр╕┤р╕з
```sql
SELECT p.name, p.price, p.rating, COUNT(r.id) as review_count 
FROM products p 
LEFT JOIN reviews r ON p.id = r.product_id 
GROUP BY p.id 
ORDER BY p.rating DESC;
```

### р╣Бр╕кр╕Фр╕Зр╕Др╕│р╕кр╕▒р╣Ир╕Зр╕Лр╕╖р╣Йр╕нр╕Юр╕гр╣Йр╕нр╕бр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕ер╕╣р╕Бр╕Др╣Йр╕▓
```sql
SELECT o.order_number, u.firstName, u.lastName, o.total_amount, o.status
FROM orders o
JOIN users u ON o.user_id = u.id
ORDER BY o.created_at DESC;
```

### р╣Бр╕кр╕Фр╕Зр╕кр╕┤р╕Щр╕Др╣Йр╕▓р╕Чр╕╡р╣Ир╕Вр╕▓р╕вр╕Фр╕╡р╕Чр╕╡р╣Ир╕кр╕╕р╕Ф
```sql
SELECT p.name, SUM(oi.quantity) as total_sold
FROM products p
JOIN order_items oi ON p.id = oi.product_id
JOIN orders o ON oi.order_id = o.id
WHERE o.status IN ('delivered', 'shipped')
GROUP BY p.id
ORDER BY total_sold DESC
LIMIT 10;
```

### р╣Бр╕кр╕Фр╕Зр╕гр╕▓р╕вр╣Др╕Фр╣Йр╕гр╕▓р╕вр╣Ар╕Фр╕╖р╕нр╕Щ
```sql
SELECT 
    DATE_FORMAT(created_at, '%Y-%m') as month,
    COUNT(*) as total_orders,
    SUM(total_amount) as total_revenue
FROM orders 
WHERE status = 'delivered'
GROUP BY DATE_FORMAT(created_at, '%Y-%m')
ORDER BY month DESC;
```

## ЁЯФз р╕Бр╕▓р╕гр╕Ър╕│р╕гр╕╕р╕Зр╕гр╕▒р╕Бр╕йр╕▓

### р╣Ар╕Юр╕┤р╣Ир╕б Index р╣Ар╕Юр╕╖р╣Ир╕нр╕Ыр╕гр╕░р╕кр╕┤р╕Чр╕Шр╕┤р╕ар╕▓р╕Ю
р╕кр╕Др╕гр╕┤р╕Ыр╕Хр╣Мр╕бр╕╡ indexes р╕Юр╕╖р╣Йр╕Щр╕Рр╕▓р╕Щр╣Бр╕ер╣Йр╕з р╕лр╕▓р╕Бр╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕гр╣Ар╕Юр╕┤р╣Ир╕бр╣Ар╕Хр╕┤р╕б:

```sql
-- Index р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╕Др╣Йр╕Щр╕лр╕▓р╕кр╕┤р╕Щр╕Др╣Йр╕▓р╕Хр╕▓р╕бр╕Кр╕╖р╣Ир╕н
CREATE INDEX idx_products_name ON products(name);

-- Index р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╕Др╣Йр╕Щр╕лр╕▓р╕Хр╕▓р╕бр╕зр╕▒р╕Щр╕Чр╕╡р╣И
CREATE INDEX idx_orders_created_at ON orders(created_at);
```

### р╕кр╕│р╕гр╕нр╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕е
```bash
mysqldump -u username -p database_name > backup.sql
```

## ЁЯУЭ р╕лр╕бр╕▓р╕вр╣Ар╕лр╕Хр╕╕

1. р╕гр╕лр╕▒р╕кр╕Ьр╣Ир╕▓р╕Щр╣Гр╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ир╕│р╕ер╕нр╕Зр╕Цр╕╣р╕Бр╣Ар╕Вр╣Йр╕▓р╕гр╕лр╕▒р╕кр╕Фр╣Йр╕зр╕в bcrypt
2. р╣Гр╕Кр╣Й ENUM р╕кр╕│р╕лр╕гр╕▒р╕Ъ status fields р╣Ар╕Юр╕╖р╣Ир╕нр╕Др╕зр╕▓р╕бр╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕Зр╕Вр╕нр╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕е
3. р╕бр╕╡ Foreign Key Constraints р╣Ар╕Юр╕╖р╣Ир╕нр╕гр╕▒р╕Бр╕йр╕▓р╕Др╕зр╕▓р╕бр╕кр╕бр╕Ър╕╣р╕гр╕Ур╣Мр╕Вр╕нр╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕е
4. р╣Гр╕Кр╣Й TIMESTAMP р╕Юр╕гр╣Йр╕нр╕б AUTO UPDATE р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╕Хр╕┤р╕Фр╕Хр╕▓р╕бр╕Бр╕▓р╕гр╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╣Бр╕Ыр╕ер╕З

## ЁЯЪи р╕Др╕│р╣Ар╕Хр╕╖р╕нр╕Щ

- р╕Бр╣Ир╕нр╕Щр╕гр╕▒р╕Щр╕кр╕Др╕гр╕┤р╕Ыр╕Хр╣М DROP TABLE р╣Гр╕лр╣Йр╕кр╕│р╕гр╕нр╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Бр╣Ир╕нр╕Щ
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ charset р╣Бр╕ер╕░ collation р╣Гр╕лр╣Йр╕гр╕нр╕Зр╕гр╕▒р╕Ър╕ар╕▓р╕йр╕▓р╣Др╕Чр╕в
- р╣Бр╕Щр╕░р╕Щр╕│р╣Гр╕лр╣Йр╣Гр╕Кр╣Й UTF8MB4 р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╕гр╕нр╕Зр╕гр╕▒р╕Ъ emoji р╣Бр╕ер╕░р╕Хр╕▒р╕зр╕нр╕▒р╕Бр╕йр╕гр╕Юр╕┤р╣Ар╕ир╕й
